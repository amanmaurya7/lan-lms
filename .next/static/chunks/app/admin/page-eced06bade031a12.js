(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{7550:function(e,s,t){Promise.resolve().then(t.bind(t,5342))},5342:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var l=t(7437),r=t(605),n=t(9376),a=t(2265),i=t(3723),c=t(6070);let d=(0,t(9763).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var x=t(5805),o=t(1769),m=t(8736),u=t(525),h=t(1723);function j(){var e;let{data:s,status:t}=(0,r.useSession)(),j=(0,n.useRouter)(),[f,g]=(0,a.useState)(null),[p,N]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if("loading"!==t){if(!s||!s.user||"admin"!==s.user.role){j.push("/login");return}b()}},[s,t,j]);let b=async()=>{try{let e=await fetch("/api/admin/dashboard");if(e.ok){let s=await e.json();g(s)}}catch(e){console.error("Failed to fetch dashboard stats:",e)}finally{N(!1)}};return"loading"===t||p?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(d,{className:"h-12 w-12 animate-spin mx-auto mb-4"}),(0,l.jsx)("p",{children:"Loading dashboard..."})]})}):s&&s.user&&"admin"===s.user.role?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)(i.W,{}),(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,l.jsxs)("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",null===(e=s.user)||void 0===e?void 0:e.name,". Here's what's happening in your LMS."]})]}),f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(c.ll,{className:"text-sm font-medium",children:"Total Users"}),(0,l.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(c.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:f.totalUsers}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Registered users in system"})]})]}),(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(c.ll,{className:"text-sm font-medium",children:"Total Courses"}),(0,l.jsx)(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(c.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:f.totalCourses}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active courses available"})]})]}),(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(c.ll,{className:"text-sm font-medium",children:"Total Quizzes"}),(0,l.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(c.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:f.totalQuizzes}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Quizzes created"})]})]}),(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(c.ll,{className:"text-sm font-medium",children:"Active Students"}),(0,l.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(c.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:f.activeStudents}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Students enrolled in courses"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Recent Activity"}),(0,l.jsx)(c.SZ,{children:"Latest system activities and user actions"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)("div",{className:"space-y-4",children:f.recentActivity.map(e=>(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:e.action}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground",children:["by ",e.user]})]}),(0,l.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[(0,l.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),e.timestamp]})]},e.id))})})]}),(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Quick Actions"}),(0,l.jsx)(c.SZ,{children:"Common administrative tasks"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("button",{onClick:()=>j.push("/admin/users"),className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[(0,l.jsx)(x.Z,{className:"h-6 w-6 mb-2 text-blue-600"}),(0,l.jsx)("p",{className:"font-medium",children:"Manage Users"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Add, edit, or remove users"})]}),(0,l.jsxs)("button",{onClick:()=>j.push("/admin/courses"),className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[(0,l.jsx)(o.Z,{className:"h-6 w-6 mb-2 text-green-600"}),(0,l.jsx)("p",{className:"font-medium",children:"Manage Courses"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Create and manage courses"})]}),(0,l.jsxs)("button",{onClick:()=>j.push("/admin/reports"),className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[(0,l.jsx)(m.Z,{className:"h-6 w-6 mb-2 text-purple-600"}),(0,l.jsx)("p",{className:"font-medium",children:"View Reports"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"System and user reports"})]}),(0,l.jsxs)("button",{onClick:()=>j.push("/admin/settings"),className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[(0,l.jsx)(d,{className:"h-6 w-6 mb-2 text-orange-600"}),(0,l.jsx)("p",{className:"font-medium",children:"System Settings"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Configure LMS settings"})]})]})})]})]})]})]})]}):null}},1723:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},525:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(9763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}},function(e){e.O(0,[605,791,677,519,971,117,744],function(){return e(e.s=7550)}),_N_E=e.O()}]);