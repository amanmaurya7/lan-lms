(()=>{var e={};e.id=799,e.ids=[799],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16802:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>o}),r(98761),r(84752),r(35866);var t=r(23191),a=r(88716),i=r(37922),n=r.n(i),l=r(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(s,d);let o=["",{children:["student",{children:["quiz",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,98761)),"C:\\Users\\Asus\\Downloads\\moodle-lms\\app\\student\\quiz\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,84752)),"C:\\Users\\Asus\\Downloads\\moodle-lms\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\Asus\\Downloads\\moodle-lms\\app\\student\\quiz\\[id]\\page.tsx"],c="/student/quiz/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/student/quiz/[id]/page",pathname:"/student/quiz/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},51709:(e,s,r)=>{Promise.resolve().then(r.bind(r,80590))},80590:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>ep});var t=r(10326),a=r(77109),i=r(35047),n=r(17577),l=r(55877),d=r(90772),o=r(33071),u=r(82561),c=r(48051),m=r(93095),p=r(45226),x=r(15594),f=r(52067),h=r(17124),v=r(2566),g=r(53405),j=r(9815),b="Radio",[y,N]=(0,m.b)(b),[w,k]=y(b),q=n.forwardRef((e,s)=>{let{__scopeRadio:r,name:a,checked:i=!1,required:l,disabled:d,value:o="on",onCheck:m,form:x,...f}=e,[h,v]=n.useState(null),g=(0,c.e)(s,e=>v(e)),j=n.useRef(!1),b=!h||x||!!h.closest("form");return(0,t.jsxs)(w,{scope:r,checked:i,disabled:d,children:[(0,t.jsx)(p.WV.button,{type:"button",role:"radio","aria-checked":i,"data-state":z(i),"data-disabled":d?"":void 0,disabled:d,value:o,...f,ref:g,onClick:(0,u.M)(e.onClick,e=>{i||m?.(),b&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),b&&(0,t.jsx)(_,{control:h,bubbles:!j.current,name:a,value:o,checked:i,required:l,disabled:d,form:x,style:{transform:"translateX(-100%)"}})]})});q.displayName=b;var P="RadioIndicator",R=n.forwardRef((e,s)=>{let{__scopeRadio:r,forceMount:a,...i}=e,n=k(P,r);return(0,t.jsx)(j.z,{present:a||n.checked,children:(0,t.jsx)(p.WV.span,{"data-state":z(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:s})})});R.displayName=P;var _=n.forwardRef(({__scopeRadio:e,control:s,checked:r,bubbles:a=!0,...i},l)=>{let d=n.useRef(null),o=(0,c.e)(d,l),u=(0,g.D)(r),m=(0,v.t)(s);return n.useEffect(()=>{let e=d.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==r&&s){let t=new Event("click",{bubbles:a});s.call(e,r),e.dispatchEvent(t)}},[u,r,a]),(0,t.jsx)(p.WV.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function z(e){return e?"checked":"unchecked"}_.displayName="RadioBubbleInput";var C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],S="RadioGroup",[E,M]=(0,m.b)(S,[x.Pc,N]),A=(0,x.Pc)(),D=N(),[Z,V]=E(S),$=n.forwardRef((e,s)=>{let{__scopeRadioGroup:r,name:a,defaultValue:i,value:n,required:l=!1,disabled:d=!1,orientation:o,dir:u,loop:c=!0,onValueChange:m,...v}=e,g=A(r),j=(0,h.gm)(u),[b,y]=(0,f.T)({prop:n,defaultProp:i??null,onChange:m,caller:S});return(0,t.jsx)(Z,{scope:r,name:a,required:l,disabled:d,value:b,onValueChange:y,children:(0,t.jsx)(x.fC,{asChild:!0,...g,orientation:o,dir:j,loop:c,children:(0,t.jsx)(p.WV.div,{role:"radiogroup","aria-required":l,"aria-orientation":o,"data-disabled":d?"":void 0,dir:j,...v,ref:s})})})});$.displayName=S;var T="RadioGroupItem",W=n.forwardRef((e,s)=>{let{__scopeRadioGroup:r,disabled:a,...i}=e,l=V(T,r),d=l.disabled||a,o=A(r),m=D(r),p=n.useRef(null),f=(0,c.e)(s,p),h=l.value===i.value,v=n.useRef(!1);return n.useEffect(()=>{let e=e=>{C.includes(e.key)&&(v.current=!0)},s=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",s)}},[]),(0,t.jsx)(x.ck,{asChild:!0,...o,focusable:!d,active:h,children:(0,t.jsx)(q,{disabled:d,required:l.required,checked:h,...m,...i,name:l.name,ref:f,onCheck:()=>l.onValueChange(i.value),onKeyDown:(0,u.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,u.M)(i.onFocus,()=>{v.current&&p.current?.click()})})})});W.displayName=T;var O=n.forwardRef((e,s)=>{let{__scopeRadioGroup:r,...a}=e,i=D(r);return(0,t.jsx)(R,{...i,...a,ref:s})});O.displayName="RadioGroupIndicator";var I=r(53982),L=r(77863);let F=n.forwardRef(({className:e,...s},r)=>t.jsx($,{className:(0,L.cn)("grid gap-2",e),...s,ref:r}));F.displayName=$.displayName;let G=n.forwardRef(({className:e,...s},r)=>t.jsx(W,{ref:r,className:(0,L.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:t.jsx(O,{className:"flex items-center justify-center",children:t.jsx(I.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));G.displayName=W.displayName;var X=r(45842);let B=n.forwardRef(({className:e,...s},r)=>t.jsx("textarea",{className:(0,L.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));B.displayName="Textarea";var Q=r(43273),U="Progress",[Y,H]=(0,m.b)(U),[J,K]=Y(U),ee=n.forwardRef((e,s)=>{var r,a;let{__scopeProgress:i,value:n=null,max:l,getValueLabel:d=et,...o}=e;(l||0===l)&&!en(l)&&console.error((r=`${l}`,`Invalid prop \`max\` of value \`${r}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=en(l)?l:100;null===n||el(n,u)||console.error((a=`${n}`,`Invalid prop \`value\` of value \`${a}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let c=el(n,u)?n:null,m=ei(c)?d(c,u):void 0;return(0,t.jsx)(J,{scope:i,value:c,max:u,children:(0,t.jsx)(p.WV.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":ei(c)?c:void 0,"aria-valuetext":m,role:"progressbar","data-state":ea(c,u),"data-value":c??void 0,"data-max":u,...o,ref:s})})});ee.displayName=U;var es="ProgressIndicator",er=n.forwardRef((e,s)=>{let{__scopeProgress:r,...a}=e,i=K(es,r);return(0,t.jsx)(p.WV.div,{"data-state":ea(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:s})});function et(e,s){return`${Math.round(e/s*100)}%`}function ea(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function ei(e){return"number"==typeof e}function en(e){return ei(e)&&!isNaN(e)&&e>0}function el(e,s){return ei(e)&&!isNaN(e)&&e<=s&&e>=0}er.displayName=es;let ed=n.forwardRef(({className:e,value:s,...r},a)=>t.jsx(ee,{ref:a,className:(0,L.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:t.jsx(er,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));ed.displayName=ee.displayName;var eo=r(76557);let eu=(0,eo.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var ec=r(48998);let em=(0,eo.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function ep(){let{data:e,status:s}=(0,a.useSession)(),r=(0,i.useRouter)(),u=(0,i.useParams)().id,[c,m]=(0,n.useState)(null),[p,x]=(0,n.useState)(!0),[f,h]=(0,n.useState)({}),[v,g]=(0,n.useState)(0),[j,b]=(0,n.useState)(0),[y,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)(""),[q,P]=(0,n.useState)(!1),[R,_]=(0,n.useState)(null),z=(e,s)=>{h(r=>({...r,[e]:s}))},C=async()=>{if(!y){N(!0);try{let e=await fetch(`/api/student/quiz/${u}/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({attemptId:R,answers:f})});if(e.ok)r.push(`/student/quiz/${u}/results`);else{let s=await e.json();k(s.error||"Failed to submit quiz")}}catch(e){k("Failed to submit quiz")}finally{N(!1)}}},S=()=>c?Object.keys(f).length/c.questions.length*100:0;if("loading"===s||p)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),t.jsx("p",{children:"Loading quiz..."})]})});if(!e||"student"!==e.user.role)return null;if(w)return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(l.W,{}),t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)(Q.bZ,{variant:"destructive",children:[t.jsx(eu,{className:"h-4 w-4"}),t.jsx(Q.X,{children:w})]})})]});if(!c)return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(l.W,{}),t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsx(Q.bZ,{children:t.jsx(Q.X,{children:"Quiz not found"})})})]});if(c.seb_required&&!q)return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(l.W,{}),t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)(Q.bZ,{variant:"destructive",children:[t.jsx(eu,{className:"h-4 w-4"}),t.jsx(Q.X,{children:"This quiz requires Safe Exam Browser (SEB). Please open this quiz using SEB with the proper configuration file."})]})})]});let E=c.questions[v];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(l.W,{}),t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[t.jsx(o.Zb,{className:"mb-6",children:(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[t.jsx(o.ll,{children:c.title}),t.jsx(o.SZ,{children:c.description})]}),(0,t.jsxs)("div",{className:"text-right",children:[c.time_limit>0&&(0,t.jsxs)("div",{className:"flex items-center text-lg font-semibold",children:[t.jsx(ec.Z,{className:"h-5 w-5 mr-2"}),`${Math.floor(j/60)}:${(j%60).toString().padStart(2,"0")}`]}),c.seb_required&&q&&(0,t.jsxs)("div",{className:"flex items-center text-green-600 text-sm mt-1",children:[t.jsx(em,{className:"h-4 w-4 mr-1"}),"SEB Verified"]})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,t.jsxs)("span",{children:["Progress: ",Object.keys(f).length," of ",c.questions.length," answered"]}),(0,t.jsxs)("span",{children:[Math.round(S()),"% complete"]})]}),t.jsx(ed,{value:S(),className:"w-full"})]})]})}),t.jsx(o.Zb,{className:"mb-6",children:t.jsx(o.aY,{className:"pt-6",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:c.questions.map((e,s)=>t.jsx(d.z,{variant:v===s?"default":f[c.questions[s].id]?"outline":"ghost",size:"sm",onClick:()=>g(s),className:f[c.questions[s].id]?"border-green-500":"",children:s+1},s))})})}),(0,t.jsxs)(o.Zb,{className:"mb-6",children:[t.jsx(o.Ol,{children:(0,t.jsxs)(o.ll,{children:["Question ",v+1," of ",c.questions.length,(0,t.jsxs)("span",{className:"text-sm font-normal text-gray-600 ml-2",children:["(",E.points," ",1===E.points?"point":"points",")"]})]})}),(0,t.jsxs)(o.aY,{children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("p",{className:"text-lg mb-4",children:E.question_text}),"multiple_choice"===E.question_type&&E.options&&t.jsx(F,{value:f[E.id]||"",onValueChange:e=>z(E.id,e),children:E.options.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(G,{value:e.id.toString(),id:`option-${e.id}`}),t.jsx(X._,{htmlFor:`option-${e.id}`,className:"flex-1 cursor-pointer",children:e.option_text})]},e.id))}),"true_false"===E.question_type&&(0,t.jsxs)(F,{value:f[E.id]||"",onValueChange:e=>z(E.id,e),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(G,{value:"true",id:"true"}),t.jsx(X._,{htmlFor:"true",className:"cursor-pointer",children:"True"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(G,{value:"false",id:"false"}),t.jsx(X._,{htmlFor:"false",className:"cursor-pointer",children:"False"})]})]}),"short_answer"===E.question_type&&t.jsx(B,{placeholder:"Enter your answer here...",value:f[E.id]||"",onChange:e=>z(E.id,e.target.value),rows:4})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx(d.z,{variant:"outline",onClick:()=>g(Math.max(0,v-1)),disabled:0===v,children:"Previous"}),v<c.questions.length-1?t.jsx(d.z,{onClick:()=>g(v+1),children:"Next"}):t.jsx(d.z,{onClick:C,disabled:y,className:"bg-green-600 hover:bg-green-700",children:y?"Submitting...":"Submit Quiz"})]})]})]}),t.jsx(o.Zb,{children:t.jsx(o.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(d.z,{onClick:C,disabled:y,size:"lg",className:"bg-green-600 hover:bg-green-700",children:y?"Submitting Quiz...":"Submit Quiz"}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Make sure to review all your answers before submitting"})]})})})]})})]})}},43273:(e,s,r)=>{"use strict";r.d(s,{X:()=>o,bZ:()=>d});var t=r(10326),a=r(17577),i=r(79360),n=r(77863);let l=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef(({className:e,variant:s,...r},a)=>t.jsx("div",{ref:a,role:"alert",className:(0,n.cn)(l({variant:s}),e),...r}));d.displayName="Alert",a.forwardRef(({className:e,...s},r)=>t.jsx("h5",{ref:r,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let o=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...s}));o.displayName="AlertDescription"},45842:(e,s,r)=>{"use strict";r.d(s,{_:()=>u});var t=r(10326),a=r(17577),i=r(45226),n=a.forwardRef((e,s)=>(0,t.jsx)(i.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var l=r(79360),d=r(77863);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef(({className:e,...s},r)=>t.jsx(n,{ref:r,className:(0,d.cn)(o(),e),...s}));u.displayName=n.displayName},48998:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},98761:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(68570).createProxy)(String.raw`C:\Users\Asus\Downloads\moodle-lms\app\student\quiz\[id]\page.tsx#default`)},53405:(e,s,r)=>{"use strict";r.d(s,{D:()=>a});var t=r(17577);function a(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[276,571,691,255,82],()=>r(16802));module.exports=t})();